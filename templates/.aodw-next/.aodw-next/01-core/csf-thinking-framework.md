# CSF 思维框架（Critical Success Factors Thinking Framework）

## 1. 框架概述

CSF 思维框架是一套"以终为始"的分析和决策思路，用于在 AODW 关键阶段进行战略层面的反思和审计，确保工作直接贡献于目标达成。

**核心原则**：
- 以终为始：明确目标（现状与期望的差距）
- 结构化分解：MECE 原则，区分静态/动态分解
- 关键要素识别：识别 CSF 和关键控制变量
- 流程与系统观：全流程分析，端到端关键路径
- 多维决策：多维度权重评分，矩阵分析

---

## 2. 在 AODW 中的集成点

### 2.1 关键节点（Mandatory CSF Review）

以下节点**必须**执行 CSF 审查：

1. **Decision 阶段后**（decided）
   - 审查 Profile 选择是否合理
   - 验证目标与复杂度匹配

2. **Spec/Plan 阶段后**（in-progress，Plan 批准前）
   - 审查方案是否直接贡献于目标
   - 验证分解是否 MECE
   - 识别关键成功要素

3. **Implementation 阶段中**（in-progress，关键里程碑）
   - 审查实现路径是否偏离目标
   - 验证关键控制变量

4. **Verification 阶段**（reviewing）
   - 审查端到端关键路径
   - 验证多维决策的合理性

### 2.2 可选节点（Optional CSF Review）

以下节点**建议**执行 CSF 审查：

- **Intake 阶段后**：验证需求理解是否准确
- **Analysis 阶段后**：验证影响分析是否全面
- **Completion 阶段前**：最终目标达成度评估

---

## 3. CSF 审查清单（CSF Review Checklist）

### 3.1 以终为始检查（Begin with the End）

**问题清单**：
- [ ] 本 RT 的明确目标是什么？（用一句话描述）
- [ ] 当前现状是什么？（问题/痛点/缺失）
- [ ] 期望状态是什么？（成功后的状态）
- [ ] 目标与现状的差距是否清晰？
- [ ] 当前工作是否直接贡献于缩小这个差距？
- [ ] 是否存在无效工作？（不贡献于目标的工作）

**输出要求**：
- 在 `RT/RT-XXX/csf-review.md` 中记录目标、现状、期望、差距
- 识别并标记无效工作（如有）

---

### 3.2 结构化分解检查（Structured Decomposition）

**问题清单**：
- [ ] 复杂问题是否已分解为子目标/子模块？
- [ ] 分解是否符合 MECE 原则（不重不漏）？
- [ ] 是否区分了"静态分解"（组成部分）和"动态分解"（流程步骤）？
- [ ] 分解粒度是否合适？（不过细也不过粗）
- [ ] 子目标之间是否存在依赖关系？
- [ ] 依赖关系是否清晰？

**输出要求**：
- 在 `csf-review.md` 中记录分解结构（树状图或列表）
- 标注静态/动态分解类型
- 标注依赖关系

---

### 3.3 关键要素识别检查（Identify CSFs）

**问题清单**：
- [ ] 影响目标达成的关键成功要素（CSF）是什么？
- [ ] 关键控制变量是什么？（可以影响结果的变量）
- [ ] 是否识别了瓶颈点？（限制目标达成的关键点）
- [ ] 是否对要素进行了优先级排序？
- [ ] 是否平均用力？（应聚焦 CSF，而非平均分配资源）

**输出要求**：
- 在 `csf-review.md` 中列出 CSF 清单（按优先级排序）
- 标注关键控制变量
- 标注瓶颈点

---

### 3.4 流程与系统观检查（Process & Systems View）

**问题清单**：
- [ ] 是否进行了全流程分析？（从触发到完成的端到端）
- [ ] 端到端关键路径是什么？
- [ ] 关键路径上的瓶颈是什么？
- [ ] 是否存在单点故障？
- [ ] 系统各组件之间的交互是否清晰？
- [ ] 是否考虑了上下游影响？

**输出要求**：
- 在 `csf-review.md` 中绘制或描述端到端流程图
- 标注关键路径
- 标注瓶颈点
- 标注潜在风险点

---

### 3.5 多维决策检查（Multi-dimensional Decision）

**问题清单**：
- [ ] 技术方案是否基于多维度评估？（而非非黑即白）
- [ ] 评估维度是否全面？（如：性能、成本、复杂度、可维护性、风险等）
- [ ] 是否进行了权重评分或矩阵分析？
- [ ] 各维度的权重是否合理？
- [ ] 是否有明确的决策标准？
- [ ] 备选方案是否充分？

**输出要求**：
- 在 `csf-review.md` 中记录多维度评估矩阵
- 标注各维度权重
- 标注最终决策理由

---

## 4. CSF 审查执行流程

### 4.1 触发时机

**自动触发**（AI 必须执行）：
- Decision 阶段完成后
- Spec/Plan 阶段完成后（Plan 批准前）
- Verification 阶段开始时

**手动触发**（用户可随时要求）：
- 用户说"执行 CSF 审查"、"做 CSF 检查"、"CSF 审计"等
- 用户对当前方向有疑虑时

### 4.2 执行步骤

1. **创建/更新 CSF 审查文档**
   - 位置：`RT/RT-XXX/csf-review.md`
   - 如果已存在，追加新的审查记录（带时间戳）

2. **按清单逐项检查**
   - 使用上述 5 个维度的检查清单
   - 对每个问题给出明确答案
   - 记录发现的问题和改进建议

3. **生成审查报告**
   - 总结关键发现
   - 标注风险点
   - 提供改进建议

4. **与用户确认**
   - 展示审查结果摘要
   - 询问是否需要调整方向
   - 记录用户反馈

### 4.3 输出格式

CSF 审查文档应包含：

```markdown
# CSF Review: RT-XXX - <title>

## 审查时间
- 审查时间：YYYY-MM-DD HH:MM:SS
- 审查阶段：Decision/Spec-Plan/Implementation/Verification
- 审查人：AI + 用户（如参与）

## 1. 以终为始检查
- 目标：[一句话描述]
- 现状：[当前状态]
- 期望：[期望状态]
- 差距：[差距描述]
- 无效工作识别：[如有]

## 2. 结构化分解检查
- 分解结构：[树状图或列表]
- MECE 验证：[是否不重不漏]
- 静态/动态分解：[标注类型]
- 依赖关系：[如有]

## 3. 关键要素识别检查
- CSF 清单：[按优先级排序]
- 关键控制变量：[列出]
- 瓶颈点：[标注]

## 4. 流程与系统观检查
- 端到端流程图：[描述或引用]
- 关键路径：[标注]
- 瓶颈点：[标注]
- 潜在风险：[标注]

## 5. 多维决策检查
- 评估维度：[列出]
- 评估矩阵：[表格]
- 决策理由：[说明]

## 关键发现
- [ ] 发现的问题
- [ ] 风险点
- [ ] 改进建议

## 后续行动
- [ ] 需要调整的方向
- [ ] 需要补充的工作
- [ ] 需要用户确认的事项
```

---

## 5. 与现有流程的集成

### 5.1 与 Spec-Full Profile 的集成

在 `spec-full-profile.md` 的 Plan 阶段，添加 CSF 审查要求：

- Plan 完成后，必须执行 CSF 审查
- CSF 审查通过后，才能进入"计划批准"节点
- CSF 审查结果应记录在 `csf-review.md`，并在 `plan.md` 中引用

### 5.2 与 Spec-Lite Profile 的集成

在 `spec-lite-profile.md` 中：

- Plan-Lite 完成后，建议执行 CSF 审查（可选但推荐）
- 如果发现复杂度超出预期，应建议升级为 Spec-Full

### 5.3 与 Verification 阶段的集成

在 `verification` 阶段，CSF 审查应作为增强项：

- 不仅检查文档一致性，还要检查目标达成度
- 验证端到端关键路径是否完整
- 评估多维决策的合理性

---

## 6. 快速唤起机制

### 6.1 用户触发方式

用户可以通过以下方式快速唤起 CSF 审查：

- **自然语言**：
  - "执行 CSF 审查"
  - "做 CSF 检查"
  - "CSF 审计"
  - "检查关键成功要素"
  - "审查目标达成度"

- **命令式**（如 Cursor 等支持命令的平台）：
  - `/csf-review`
  - `/csf-check`
  - `/csf-audit`

### 6.2 AI 识别模式

AI 应识别以下意图并自动触发 CSF 审查：

- 用户表达对方向的疑虑
- 用户要求"重新审视"、"重新评估"
- 用户询问"这样做对吗？"、"目标是什么？"
- 用户要求"检查关键要素"、"识别瓶颈"

---

## 7. 最佳实践

### 7.1 审查频率

- **关键节点**：必须执行（Decision、Spec/Plan、Verification）
- **复杂 RT**：建议在 Implementation 阶段增加 1-2 次审查
- **简单 RT**：可在关键节点执行，不必过度审查

### 7.2 审查深度

- **快速审查**（5-10 分钟）：
  - 适用于简单 RT 或日常检查
  - 重点关注"以终为始"和"关键要素识别"

- **深度审查**（20-30 分钟）：
  - 适用于复杂 RT 或关键决策点
  - 完整执行 5 个维度的检查
  - 生成详细的审查报告

### 7.3 审查输出

- CSF 审查结果应**始终记录**在 `csf-review.md`
- 关键发现应在相关文档中引用（如 `plan.md`、`decision.md`）
- 审查发现的问题应转化为改进行动项

---

## 8. 示例场景

### 场景 1：Decision 阶段后的 CSF 审查

**触发**：Decision 阶段完成，已选择 Spec-Full

**审查重点**：
- 以终为始：验证复杂度判断是否准确，目标是否清晰
- 关键要素识别：识别影响目标达成的关键要素
- 多维决策：评估 Spec-Full vs Spec-Lite 的决策是否合理

**输出**：`csf-review.md` 记录审查结果，如发现判断有误，建议调整 Profile

### 场景 2：Plan 批准前的 CSF 审查

**触发**：Plan 文档已完成，准备进入"计划批准"节点

**审查重点**：
- 结构化分解：验证方案分解是否 MECE
- 流程与系统观：检查端到端关键路径
- 多维决策：评估技术方案的合理性

**输出**：`csf-review.md` 记录审查结果，如发现问题，Plan 需调整后才能批准

### 场景 3：Implementation 阶段中的 CSF 审查

**触发**：实现过程中遇到困难，或用户要求审查

**审查重点**：
- 以终为始：验证实现是否偏离目标
- 关键要素识别：识别当前瓶颈
- 流程与系统观：检查实现路径是否合理

**输出**：`csf-review.md` 记录审查结果，提供调整建议

---

## 9. 与 AODW 规范的兼容性

CSF 思维框架与 AODW 核心原则完全兼容：

- **简洁至上**：CSF 审查聚焦关键要素，避免过度分析
- **深度分析**：CSF 审查基于第一性原理，深入思考
- **事实为本**：CSF 审查以目标为基准，客观评估
- **渐进式开发**：CSF 审查在关键节点进行，支持迭代调整
- **中文交流**：CSF 审查文档和报告均使用中文

---

## 10. 实施建议

### 10.1 渐进式引入

1. **第一阶段**：在 Spec/Plan 阶段引入 CSF 审查（必须）
2. **第二阶段**：在 Decision 和 Verification 阶段引入（必须）
3. **第三阶段**：在 Implementation 阶段引入（可选，按需）

### 10.2 工具支持

- 创建 CSF 审查模板（`.aodw/templates/csf-review-template.md`）
- 在平台适配器中添加 CSF 审查触发规则（如 `aodw-csf-review.md`）
- 在相关流程文档中引用 CSF 审查要求

### 10.3 培训与推广

- 在 AODW 文档中说明 CSF 审查的价值和使用场景
- 提供 CSF 审查示例
- 鼓励用户在关键节点主动触发 CSF 审查
